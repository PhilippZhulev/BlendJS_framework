function BlendCompile(){this.include=function(){let e=document.getElementsByTagName("script"),t=[];for(let l=0;l<e.length;l++)if("text/blend"===e[l].getAttribute("type")){let n=e[l].getAttribute("src"),i=new XMLHttpRequest;i.open("GET",n,!1),i.send(null),200===i.status&&t.push(i.responseText)}return t},this.generateScript=function(e){for(let t=0;t<e.length;t++){let l=e[t],n=0,i="",g=(e[t].split(/>{{/g),e[t].split(/{{/g));e[t].split(/}}/g);for(let e=0;e<g.length;e++)if(i="",0!==e){let t=g[e].split("}}")[0],c=/\r\n|\r|\n/g,r=t.split(c),s="";for(let e=0;e<r.length;e++)if(null!==r[e].match(/"((?:\\"|[^"])*)"|'((?:\\'|[^'])*)'|(\/\/.*|\/\*[\s\S]*?\*\/)/g)&&(s="\n //"),0!==r[e].length){let t=r[e].match(/[+*?$^(\(\).#\[\])>]/g);null!==t&&(1===e&&(n=r[1].split(t[0])[0].match(/ /g).length),i=(i=(i+=s+'"'+r[e].slice(n)+'"').replace(/{/g,'"+')).replace(/}/g,'+"'),e!==r.length-2&&(i+=",\n"))}l="#"!==g[e-1].slice(-1)?l.replace("{{"+t+"}}","["+i+"]"):l.replace("#{{"+t+"}}",i)}new Function(l)()}}}window.onload=function(){let e=new BlendCompile;e.generateScript(e.include())};