function Flu(){this.version="0.0.7";const e=this;let n=[];function t(e,n){let t=[];for(let i=0;i<e.length;i++){function l(l){let i=e[l].split(">")[0]+">",u=e[l].split(">")[1],c=i.match(/[+*?$^(\(\).#\[\]>)]/g),o=i.split(c[0])[0],s=0,r=[],f=0,a=0,p=0,h="flu_"+String(Math.floor(1e3*Math.random())).substring(0,5)+"_elm"+String(Math.floor(2e3*Math.random())).substring(0,5),d=0;for(let e=0;e<c.length;e++){function m(e){return i.split(c[e])[1].split(c[e+1])[0]}switch(c[e]){case".":d=e+1,r.push(i.split(c[e])[d].split(c[e+1])[0]);break;case"#":s=m(e);break;case"[":a=m(e);break;case"(":f=m(e)}}void 0!==u&&(p=u);let g=document.createElement(o.replace(/^\s+/,""));if(r.length>0&&r.forEach(function(e){g.classList.add(e)}),0!==s&&(g.id=s),0!==a){(a.split(",")||a).forEach(function(e){let n=e.split("=");g.setAttribute(n[0],n[1])})}0!==p&&(g.innerHTML=p);let E=e[l].split(c[0])[0].match(/ /g);null===E&&(E=0),t.push({fluName:f,id:s,flu_id:h,childElement:[],spacesLength:E.length||0,element:g,classes:r,sim:c,fluSupply:e[l]}),void 0!==t[l-1]&&void 0!==t[l-1].spacesLength&&(t[l].spacesLength>t[l-1].spacesLength&&(t[l-1].childElement.push(t[l]),parentMem=t[l-1]),t[l].spacesLength===t[l-1].spacesLength&&parentMem.childElement.push(t[l])),t.forEach(function(t,i){0===t.spacesLength&&e.length-1===l&&n.push(t)})}"string"==typeof e[i]?l(i):console.error("Parsing error: Error parsing line")}}function l(e,n){for(let l=0;l<e.length;l++){function t(e){e.childElement.forEach(function(n,l){e.element.append(n.element),0!==n.childElement&&t(n)})}0!==e[l].childElement.length&&t(e[l]),0===e[l].spacesLength&&n(l)}}function i(e,n,t){let l=0;return(e.childElement||e).forEach(function(e,u){e.fluName!==n&&null!==n||(void 0!==t&&t(e),l=e),0!==e.childElement&&i(e,n,t)}),l}this.updateEvent=new Event("flu.update"),this.update=function(){return document.dispatchEvent(e.updateEvent)},this.class=function(e){return new e},this.component=function(){let e=this,i=[];return void 0!==this.view&&t(this.view(),i),{render:function(u){let c=document.querySelector(u);return l(i,function(e){c.append(i[e].element)}),void 0!==e.supply&&t(e.supply(),n),n=n.concat(i),void 0!==e.controller&&e.controller.call(n,n),e.fluSupply=n,n},inheritance:function(){return n},clear:function(){return n=[],e.fluSupply=[],e.fluSupply}}},this.find=function(n){return{refactor:function(e,t){let u=null,c=[];i(n,e,function(e){u=e}),i(n,t,function(e){c.push(e)}),l(c,function(e){u.element.replaceWith(c[e].element)})},append:function(e,u){return function(e,u,c){let o,s,r,f=null,a=[];return i(n,u,function(e){f=e}),i(n,c,function(e){a.push(e)}),l(a,function(n){let t=a[n].element;s=a[n].fluSupply,r=a[n].childElement,o=t.cloneNode(!0),"append"===e&&f.element.append(o)}),{innerBefore:function(e){o.prepend(e)},attr:function(e,n){o.setAttribute(e,n)},addClass:function(e){o.add.classList(e)},removeClass:function(e){o.remove.classList(e)},supplement:function(e){let l=[],c=[s];for(let e=0;e<r.length;e++)c.push(r[e].fluSupply);return t(c,l),l[0].fluName=e,l[0].element=o,i(n,u,function(e){e.childElement.push(l[0])}),{deliver:function(){o.setAttribute("data-flu-name",l[0].fluName)},renameChild:function(e,n){i(l[0].childElement,e,function(e){e.fluName=n})}}}}}("append",e,u)},rename:function(e,t){i(n,e,function(e){e.fluName=t})},click:function(t,l){i(n,t,function(t){t.element.onclick=function(){l.call(e.find(n))}})},each:function(t){document.addEventListener("flu.update",function(){i(n,null,function(l){t.call(e.find(n),l)})})},remove:function(e){let t=null;i(n,e,function(e){t=e}),t.element.remove()},value:function(e){let t=null;return i(n,e,function(e){t=e}),t.element.value},fluSupply:n}},this.item=function(e){return{click:function(n){e.element.onclick=function(){console.log(1),n.call(e)}},className:function(n,t){if(0!==e.classes)for(let l=0;l<e.classes.length;l++)e.classes[l]===n&&t(e)}}}}const flu=new Flu;